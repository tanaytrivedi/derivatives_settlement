/**
 * derivatives-settlement model file
 */

namespace org.acme.otc

participant Trader identified by traderId {
  o String traderId
  o String name
  o Boolean marginThresh // margin meeting maintenance minimum
}
participant Administrator identified by adminId {
  o String adminId
  o Boolean tradingOpen 
}

enum Product {
  o OPTION
  o FUTURE
  o FORWARD
}

concept Order {
	o String traderID
    o Product productType
    o String asset // commodity? underlying? - may later need typing
    o Boolean buy
    o Double notionalAmount
    o DateTime expiry // only needs to specify date
}

concept Contract {
	o String buyerID // buyer/seller vs maker/taker?
    o String sellerID
    o Product productType
    o String asset // commodity? underlying? - may later need typing
    o Double notionalAmount
    o Double value
    o DateTime expiry
}

asset OpenOrder identified by ISINcode {
	o String ISINcode
    o Order order
    o Boolean valid
}

asset LiveContract identified by ISINcode {
	o String ISINcode
    o Contract contract
    o Boolean valid
}

transaction PlaceOrder {
	o String ISINCode
	o Order order
}
transaction SOD {
	o String adminId
}
transaction Test {}